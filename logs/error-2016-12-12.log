[2016-12-12 11:29:31.601] [FATAL] error - /耗时:3
[2016-12-12 11:29:31.613] [FATAL] error - /favicon.ico耗时:0
[2016-12-12 11:29:32.390] [FATAL] error - /耗时:1
[2016-12-12 11:29:32.398] [FATAL] error - /favicon.ico耗时:0
[2016-12-12 11:29:33.159] [FATAL] error - /耗时:1
[2016-12-12 11:29:33.169] [FATAL] error - /favicon.ico耗时:1
[2016-12-12 11:30:18.817] [INFO] error - /耗时:3
[2016-12-12 11:30:18.817] [FATAL] error - /耗时:3
[2016-12-12 11:30:18.829] [INFO] error - /favicon.ico耗时:0
[2016-12-12 11:30:18.829] [FATAL] error - /favicon.ico耗时:0
[2016-12-12 11:30:19.046] [INFO] error - /耗时:1
[2016-12-12 11:30:19.046] [FATAL] error - /耗时:1
[2016-12-12 11:30:19.055] [INFO] error - /favicon.ico耗时:1
[2016-12-12 11:30:19.055] [FATAL] error - /favicon.ico耗时:1
[2016-12-12 11:30:19.271] [INFO] error - /耗时:1
[2016-12-12 11:30:19.271] [FATAL] error - /耗时:1
[2016-12-12 11:30:19.281] [INFO] error - /favicon.ico耗时:2
[2016-12-12 11:30:19.281] [FATAL] error - /favicon.ico耗时:2
[2016-12-12 11:38:37.037] [ERROR] error - ERROR======>/耗时:3
[2016-12-12 11:38:37.049] [ERROR] error - ERROR======>/favicon.ico耗时:1
[2016-12-12 12:07:28.905] [ERROR] error - { code: 500, message: '用户名密码错误' }
[2016-12-12 12:07:28.906] [ERROR] error - InternalServerError: 用户名密码错误
    at Object.throw (D:\workspace\JS\git\referral-server\node_modules\.2.0.0@koa\lib\context.js:91:23)
    at middleware (d:\workspace\JS\git\referral-server\router\SignRouter.js:36:30)
[2016-12-12 12:18:23.814] [ERROR] error - { code: 500,
  message: 'Cannot read property \'hospital\' of undefined' }
[2016-12-12 12:18:23.814] [ERROR] error - TypeError: Cannot read property 'hospital' of undefined
    at GET/ (d:\workspace\JS\git\referral-server\router\PatientRouter.js:15:51)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:321:16
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:326:31)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:315:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:315:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
[2016-12-12 12:18:55.583] [ERROR] error - { code: 500,
  message: 'Cannot read property \'hospital\' of undefined' }
[2016-12-12 12:18:55.583] [ERROR] error - TypeError: Cannot read property 'hospital' of undefined
    at GET/ (d:\workspace\JS\git\referral-server\router\PatientRouter.js:15:51)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:321:16
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:326:31)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:315:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:315:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
[2016-12-12 13:57:27.963] [ERROR] error - { code: 500,
  message: 'Cannot read property \'hospital\' of undefined' }
[2016-12-12 13:57:27.964] [ERROR] error - TypeError: Cannot read property 'hospital' of undefined
    at GET/ (d:\workspace\JS\git\referral-server\router\PatientRouter.js:15:51)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:321:16
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:326:31)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:315:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:315:32)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
    at allowedMethods (D:\workspace\JS\git\referral-server\node_modules\.7.0.1@koa-router\lib\router.js:361:12)
    at dispatch (D:\workspace\JS\git\referral-server\node_modules\.3.2.1@koa-compose\index.js:44:32)
[2016-12-12 14:01:12.957] [ERROR] error - { code: 500,
  message: 'ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'tb_p.id_card_number_ LIKE \'%123%\') \n                            LIMIT 0,10\' at line 14' }
[2016-12-12 14:01:12.959] [ERROR] error - { SequelizeBaseError: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%') 
                            LIMIT 0,10' at line 14
    at Query.formatError (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:175:14)
    at Query._callback (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:49:21)
    at Query.Sequence.end (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:86:24)
    at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:94:8)
    at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
    at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at TCP.onread [as _originalOnread] (net.js:551:20)
    at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
  name: 'SequelizeDatabaseError',
  message: 'ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'tb_p.id_card_number_ LIKE \'%123%\') \n                            LIMIT 0,10\' at line 14',
  parent: 
   { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%') 
                               LIMIT 0,10' at line 14
       at Query.Sequence._packetToError (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:52:14)
       at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:83:18)
       at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
       at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
       at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
       at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
       at emitOne (events.js:96:13)
       at Socket.emit (events.js:188:7)
       at readableAddChunk (_stream_readable.js:176:18)
       at TCP.onread [as _originalOnread] (net.js:551:20)
       at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
       --------------------
       at Protocol._enqueue (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:141:48)
       at Connection.query (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:214:25)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at Query.run (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:39:17)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\sequelize.js:849:20
       at D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at retryAsPromised (D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:30:10)
       at D:\workspace\JS\git\referral-server\node_modules\.3.2.0@continuation-local-storage\context.js:84:17
       at tryCatcher (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\util.js:16:23)
       at Promise._settlePromiseFromHandler (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:510:31)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     index: 0,
     sql: 'SELECT \n                            tb_p.id_ AS id,\n                            tb_p.name_ AS name,\n                            tb_p.birthday_ AS birthday,\n                            tb_p.id_card_number_ AS idCardNumber,\n                            tb_p.blood_type_ AS bloodType,\n                            tb_p.last_menstru_time_ AS lastMenstruTime,\n                            tb_p.phone_ AS phone,\n                            tb_p.address_ AS address,\n                            tb_h.id_ AS lastHospitalId,\n                            tb_h.name_ AS hospitalName\n                            FROM \n                            tb_patient tb_p \n                            JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            LEFT JOIN tb_hospital tb_h ON tb_hpr.last_hospital_id_=tb_h.id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\') \n                            LIMIT 0,10' },
  original: 
   { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%') 
                               LIMIT 0,10' at line 14
       at Query.Sequence._packetToError (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:52:14)
       at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:83:18)
       at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
       at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
       at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
       at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
       at emitOne (events.js:96:13)
       at Socket.emit (events.js:188:7)
       at readableAddChunk (_stream_readable.js:176:18)
       at TCP.onread [as _originalOnread] (net.js:551:20)
       at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
       --------------------
       at Protocol._enqueue (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:141:48)
       at Connection.query (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:214:25)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at Query.run (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:39:17)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\sequelize.js:849:20
       at D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at retryAsPromised (D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:30:10)
       at D:\workspace\JS\git\referral-server\node_modules\.3.2.0@continuation-local-storage\context.js:84:17
       at tryCatcher (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\util.js:16:23)
       at Promise._settlePromiseFromHandler (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:510:31)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     index: 0,
     sql: 'SELECT \n                            tb_p.id_ AS id,\n                            tb_p.name_ AS name,\n                            tb_p.birthday_ AS birthday,\n                            tb_p.id_card_number_ AS idCardNumber,\n                            tb_p.blood_type_ AS bloodType,\n                            tb_p.last_menstru_time_ AS lastMenstruTime,\n                            tb_p.phone_ AS phone,\n                            tb_p.address_ AS address,\n                            tb_h.id_ AS lastHospitalId,\n                            tb_h.name_ AS hospitalName\n                            FROM \n                            tb_patient tb_p \n                            JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            LEFT JOIN tb_hospital tb_h ON tb_hpr.last_hospital_id_=tb_h.id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\') \n                            LIMIT 0,10' },
  sql: 'SELECT \n                            tb_p.id_ AS id,\n                            tb_p.name_ AS name,\n                            tb_p.birthday_ AS birthday,\n                            tb_p.id_card_number_ AS idCardNumber,\n                            tb_p.blood_type_ AS bloodType,\n                            tb_p.last_menstru_time_ AS lastMenstruTime,\n                            tb_p.phone_ AS phone,\n                            tb_p.address_ AS address,\n                            tb_h.id_ AS lastHospitalId,\n                            tb_h.name_ AS hospitalName\n                            FROM \n                            tb_patient tb_p \n                            JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            LEFT JOIN tb_hospital tb_h ON tb_hpr.last_hospital_id_=tb_h.id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\') \n                            LIMIT 0,10' }
[2016-12-12 14:03:16.035] [ERROR] error - { code: 500,
  message: 'ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'tb_p.id_card_number_ LIKE \'%123%\')\' at line 4' }
[2016-12-12 14:03:16.037] [ERROR] error - { SequelizeBaseError: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%')' at line 4
    at Query.formatError (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:175:14)
    at Query._callback (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:49:21)
    at Query.Sequence.end (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:86:24)
    at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:94:8)
    at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
    at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at TCP.onread [as _originalOnread] (net.js:551:20)
    at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
  name: 'SequelizeDatabaseError',
  message: 'ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'tb_p.id_card_number_ LIKE \'%123%\')\' at line 4',
  parent: 
   { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%')' at line 4
       at Query.Sequence._packetToError (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:52:14)
       at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:83:18)
       at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
       at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
       at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
       at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
       at emitOne (events.js:96:13)
       at Socket.emit (events.js:188:7)
       at readableAddChunk (_stream_readable.js:176:18)
       at TCP.onread [as _originalOnread] (net.js:551:20)
       at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
       --------------------
       at Protocol._enqueue (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:141:48)
       at Connection.query (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:214:25)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at Query.run (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:39:17)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\sequelize.js:849:20
       at D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at retryAsPromised (D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:30:10)
       at ConnectionManager.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.3.2.0@continuation-local-storage\context.js:84:17)
       at ConnectionManager.tryCatcher (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\util.js:16:23)
       at Promise._settlePromiseFromHandler (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:510:31)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     index: 0,
     sql: 'SELECT COUNT(1) AS total \n                            FROM tb_patient tb_p JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\')' },
  original: 
   { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%')' at line 4
       at Query.Sequence._packetToError (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:52:14)
       at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:83:18)
       at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
       at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
       at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
       at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
       at emitOne (events.js:96:13)
       at Socket.emit (events.js:188:7)
       at readableAddChunk (_stream_readable.js:176:18)
       at TCP.onread [as _originalOnread] (net.js:551:20)
       at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
       --------------------
       at Protocol._enqueue (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:141:48)
       at Connection.query (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:214:25)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at Query.run (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:39:17)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\sequelize.js:849:20
       at D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at retryAsPromised (D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:30:10)
       at ConnectionManager.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.3.2.0@continuation-local-storage\context.js:84:17)
       at ConnectionManager.tryCatcher (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\util.js:16:23)
       at Promise._settlePromiseFromHandler (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:510:31)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     index: 0,
     sql: 'SELECT COUNT(1) AS total \n                            FROM tb_patient tb_p JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\')' },
  sql: 'SELECT COUNT(1) AS total \n                            FROM tb_patient tb_p JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\')' }
[2016-12-12 14:03:17.835] [ERROR] error - { code: 500,
  message: 'ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'tb_p.id_card_number_ LIKE \'%123%\')\' at line 4' }
[2016-12-12 14:03:17.835] [ERROR] error - { SequelizeBaseError: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%')' at line 4
    at Query.formatError (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:175:14)
    at Query._callback (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:49:21)
    at Query.Sequence.end (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:86:24)
    at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:94:8)
    at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
    at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at TCP.onread [as _originalOnread] (net.js:551:20)
    at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
  name: 'SequelizeDatabaseError',
  message: 'ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'tb_p.id_card_number_ LIKE \'%123%\')\' at line 4',
  parent: 
   { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%')' at line 4
       at Query.Sequence._packetToError (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:52:14)
       at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:83:18)
       at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
       at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
       at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
       at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
       at emitOne (events.js:96:13)
       at Socket.emit (events.js:188:7)
       at readableAddChunk (_stream_readable.js:176:18)
       at TCP.onread [as _originalOnread] (net.js:551:20)
       at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
       --------------------
       at Protocol._enqueue (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:141:48)
       at Connection.query (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:214:25)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at Query.run (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:39:17)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\sequelize.js:849:20
       at D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at retryAsPromised (D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:30:10)
       at D:\workspace\JS\git\referral-server\node_modules\.3.2.0@continuation-local-storage\context.js:84:17
       at tryCatcher (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\util.js:16:23)
       at Promise._settlePromiseFromHandler (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:510:31)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     index: 0,
     sql: 'SELECT COUNT(1) AS total \n                            FROM tb_patient tb_p JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\')' },
  original: 
   { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'tb_p.id_card_number_ LIKE '%123%')' at line 4
       at Query.Sequence._packetToError (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Sequence.js:52:14)
       at Query.ErrorPacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\sequences\Query.js:83:18)
       at Protocol._parsePacket (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:280:23)
       at Parser.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Parser.js:74:12)
       at Protocol.write (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:39:16)
       at Socket.<anonymous> (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:109:28)
       at emitOne (events.js:96:13)
       at Socket.emit (events.js:188:7)
       at readableAddChunk (_stream_readable.js:176:18)
       at TCP.onread [as _originalOnread] (net.js:551:20)
       at TCP.onread (D:\workspace\JS\git\referral-server\node_modules\.0.6.3@async-listener\glue.js:188:31)
       --------------------
       at Protocol._enqueue (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\protocol\Protocol.js:141:48)
       at Connection.query (D:\workspace\JS\git\referral-server\node_modules\.2.12.0@mysql\lib\Connection.js:214:25)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at Query.run (D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\dialects\mysql\query.js:39:17)
       at D:\workspace\JS\git\referral-server\node_modules\.3.27.0@sequelize\lib\sequelize.js:849:20
       at D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:40:21
       at Promise._execute (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\debuggability.js:299:9)
       at Promise._resolveFromExecutor (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:481:18)
       at new Promise (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:77:14)
       at retryAsPromised (D:\workspace\JS\git\referral-server\node_modules\.2.2.0@retry-as-promised\index.js:30:10)
       at D:\workspace\JS\git\referral-server\node_modules\.3.2.0@continuation-local-storage\context.js:84:17
       at tryCatcher (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\util.js:16:23)
       at Promise._settlePromiseFromHandler (D:\workspace\JS\git\referral-server\node_modules\.3.4.6@bluebird\js\release\promise.js:510:31)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     index: 0,
     sql: 'SELECT COUNT(1) AS total \n                            FROM tb_patient tb_p JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\')' },
  sql: 'SELECT COUNT(1) AS total \n                            FROM tb_patient tb_p JOIN tb_hospital_patient_rel tb_hpr ON tb_p.id_=tb_hpr.patient_id_\n                            WHERE \n                            tb_hpr.hospital_id_=\'5\'\n                             AND tb_p.status_=\'1\' \n                             AND (tb_p.name_ LIKE \'%123%\' tb_p.id_card_number_ LIKE \'%123%\')' }
